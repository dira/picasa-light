:javascript
  window.onload = init;
  host = document.location;

  function is_changed() {
    if (source.value != value) {
      value = source.value;
      update(value);
    }
  }

  function update(value) {
    target.href = host + escape(value);
    target.innerHTML = host + value;
  }

  function init() {
    source = document.getElementById("picasa_id");
    target = document.getElementById("light_link_id");

    value = source.value;
    update(value);
    setInterval(is_changed, 300);
  }


%h1 Picasa could be light

%p
  But it's not. So this is a light viewer, inspired by
  %a{ :href => "http://ihardlyknowher.com/" } a minimalist Flickr viewer
  \.

#how_it_works
  %p
    http://picasaweb.google.com/
    %input#picasa_id{ :value => "your picasa id" }
  %p
    becomes
  %p
    %a#light_link_id{ :href => ""}
